<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Plataforma completa para gest√£o de dados cl√≠nicos de Transplante de C√©lulas-Tronco Hematopoi√©ticas (TCTH) com foco em seguran√ßa, usabilidade e conformidade regulat√≥ria."
    />
    <title>Orion TCTH Platform ¬∑ Gest√£o Cl√≠nica de Transplantes</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="assets/css/styles.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.3/dist/chart.umd.min.js" defer></script>
    <script src="assets/js/app.js" defer></script>
  </head>
  <body>
    <div class="layout">
      <aside class="sidebar" aria-label="Navega√ß√£o principal">
        <div class="sidebar__brand">
          <div class="sidebar__brand-icon" aria-hidden="true">O</div>
          <div>
            <strong>Orion TCTH</strong>
            <div class="form__hint">Plataforma Cl√≠nica</div>
          </div>
        </div>

        <nav class="sidebar__menu" aria-label="Menu">
          <div class="sidebar__menu-section">
            <div class="sidebar__menu-title">Vis√£o Geral</div>
            <a class="sidebar__link is-active" href="#dashboard" data-tooltip="Resumo operacional">
              <span aria-hidden="true">üìä</span>
              Dashboard
            </a>
            <a class="sidebar__link" href="#timeline" data-tooltip="Linha do tempo cl√≠nica">
              <span aria-hidden="true">üóÇÔ∏è</span>
              Timeline
            </a>
            <a class="sidebar__link" href="#compliance" data-open-modal="compliance" data-tooltip="Compliance e seguran√ßa">
              <span aria-hidden="true">üõ°Ô∏è</span>
              Compliance
            </a>
          </div>
          <div class="sidebar__menu-section">
            <div class="sidebar__menu-title">Cadastros</div>
            <button class="sidebar__link" type="button" data-open-modal="patient">
              <span aria-hidden="true">‚ûï</span>
              Novo paciente
            </button>
            <button class="sidebar__link" type="button" data-open-modal="transplant">
              <span aria-hidden="true">üå±</span>
              Registrar TCTH
            </button>
            <button class="sidebar__link" type="button" data-open-modal="followup">
              <span aria-hidden="true">üìÖ</span>
              Agendar seguimento
            </button>
          </div>
        </nav>

        <div class="sidebar__footer">
          <p class="form__hint">¬© 2024 Orion TCTH ¬∑ Ambiente seguro LGPD/HIPAA</p>
        </div>
      </aside>

      <main class="main" id="dashboard">
        <header class="header">
          <div class="header__title">
            <h1>Centro Integrado de Transplantes</h1>
            <p>Monitoramento em tempo real de pacientes, procedimentos e compliance.</p>
          </div>
          <div class="header__actions">
            <label class="form__field" for="searchPatient">
              <span class="form__hint">Pesquisa r√°pida</span>
              <input type="search" id="searchPatient" placeholder="Buscar por nome, ID ou diagn√≥stico" />
            </label>
            <button class="btn btn--ghost" type="button" id="exportJson">Exportar JSON</button>
            <button class="btn btn--primary" type="button" data-open-modal="patient">Novo cadastro</button>
          </div>
        </header>

        <section class="card-grid" aria-label="Indicadores principais">
          <article class="card" data-dashboard-card="patients">
            <header class="card__header">
              <div>
                <p class="card__title">Pacientes ativos</p>
                <p class="card__subtitle">Sob acompanhamento TCTH</p>
              </div>
              <span class="badge badge--accent">Atualizado</span>
            </header>
            <div class="card__value">0</div>
            <div class="kpi">
              <span>√öltima sincroniza√ß√£o<br /><strong id="lastSyncValue">‚Äî</strong></span>
              <span>Dados protegidos<br /><strong>LGPD-ready</strong></span>
            </div>
          </article>
          <article class="card" data-dashboard-card="transplants">
            <header class="card__header">
              <div>
                <p class="card__title">Procedimentos ativos</p>
                <p class="card__subtitle">Condicionamento e interna√ß√µes</p>
              </div>
              <span class="badge badge--accent">Fluxo</span>
            </header>
            <div class="card__value">0</div>
            <div class="kpi">
              <span>Tipo predominante<br /><strong>Alog√™nico</strong></span>
              <span>Tempo m√©dio interna√ß√£o<br /><strong>28 dias</strong></span>
            </div>
          </article>
          <article class="card" data-dashboard-card="followups">
            <header class="card__header">
              <div>
                <p class="card__title">Acompanhamentos</p>
                <p class="card__subtitle">Consultas e exames agendados</p>
              </div>
              <span class="badge badge--warning">Pr√≥ximos 30 dias</span>
            </header>
            <div class="card__value">0</div>
            <div class="kpi">
              <span>Alertas cr√≠ticos<br /><strong>0</strong></span>
              <span>Protocolos em revis√£o<br /><strong>3</strong></span>
            </div>
          </article>
          <article class="card" data-dashboard-card="engraftment">
            <header class="card__header">
              <div>
                <p class="card__title">Taxa de engraftment</p>
                <p class="card__subtitle">At√© D+30</p>
              </div>
              <span class="badge badge--accent">Benchmark</span>
            </header>
            <div class="card__value">0%</div>
            <div class="kpi">
              <span>Tempo m√©dio engraftment<br /><strong>14 dias</strong></span>
              <span>CMV positivo<br /><strong>2 casos</strong></span>
            </div>
          </article>
        </section>

        <section class="section" aria-label="Dados cl√≠nicos">
          <article class="card" aria-labelledby="patientsHeading">
            <header class="card__header">
              <div>
                <h2 class="section-title" id="patientsHeading">Painel de Pacientes</h2>
                <p class="section-subtitle">Resumo de diagn√≥sticos e classifica√ß√£o de risco.</p>
              </div>
              <div class="header__actions">
                <button class="btn btn--ghost" type="button" data-open-modal="patient">Adicionar</button>
                <button class="btn btn--ghost" type="button" id="exportCsv">Exportar CSV</button>
              </div>
            </header>
            <div class="responsive-table" role="region" aria-live="polite">
              <table class="table">
                <thead>
                  <tr>
                    <th>Paciente</th>
                    <th>Diagn√≥stico</th>
                    <th>Risco</th>
                    <th>Status</th>
                    <th>Admiss√£o</th>
                  </tr>
                </thead>
                <tbody id="patientTableBody"></tbody>
              </table>
            </div>
          </article>

          <article class="card" aria-labelledby="transplantsHeading">
            <header class="card__header">
              <div>
                <h2 class="section-title" id="transplantsHeading">Transplantes registrados</h2>
                <p class="section-subtitle">Monitoramento de enxertia e eventos cr√≠ticos.</p>
              </div>
              <button class="btn btn--ghost" type="button" data-open-modal="transplant">Registrar</button>
            </header>
            <div class="responsive-table" role="region">
              <table class="table">
                <thead>
                  <tr>
                    <th>ID</th>
                    <th>Paciente</th>
                    <th>Tipo de doador</th>
                    <th>Fonte do enxerto</th>
                    <th>Infus√£o</th>
                    <th>Status</th>
                  </tr>
                </thead>
                <tbody id="transplantTableBody"></tbody>
              </table>
            </div>
          </article>
        </section>

        <section class="section" aria-label="Monitoramento">
          <article class="card" aria-labelledby="followupHeading">
            <header class="card__header">
              <div>
                <h2 class="section-title" id="followupHeading">Seguimentos programados</h2>
                <p class="section-subtitle">Garantia de cuidados p√≥s-transplante.</p>
              </div>
              <button class="btn btn--ghost" type="button" data-open-modal="followup">Agendar</button>
            </header>
            <div class="list" id="followupList"></div>
          </article>

          <article class="card" aria-labelledby="timelineHeading">
            <header class="card__header">
              <div>
                <h2 class="section-title" id="timelineHeading">Linha do tempo assistencial</h2>
                <p class="section-subtitle">Principais marcos desde a infus√£o.</p>
              </div>
            </header>
            <div class="timeline" id="timeline"></div>
          </article>
        </section>

        <section class="section" aria-label="Indicadores anal√≠ticos">
          <article class="card" aria-labelledby="analyticsHeading">
            <header class="card__header">
              <div>
                <h2 class="section-title" id="analyticsHeading">Tend√™ncia mensal de TCTH</h2>
                <p class="section-subtitle">Volume de procedimentos por m√™s.</p>
              </div>
            </header>
            <canvas id="volumeChart" height="220" role="img" aria-label="Gr√°fico de barras com o volume de TCTH"></canvas>
          </article>

          <article class="card" aria-labelledby="engraftmentHeading">
            <header class="card__header">
              <div>
                <h2 class="section-title" id="engraftmentHeading">Engraftment cumulativo</h2>
                <p class="section-subtitle">Taxas de enxertia por m√™s.</p>
              </div>
            </header>
            <canvas id="engraftmentChart" height="220" role="img" aria-label="Gr√°fico de linha com engraftment"></canvas>
          </article>
        </section>

        <section class="section" aria-label="Governan√ßa">
          <article class="card" aria-labelledby="complianceHeading">
            <header class="card__header">
              <div>
                <h2 class="section-title" id="complianceHeading">Status regulat√≥rio</h2>
                <p class="section-subtitle">Monitoramento cont√≠nuo LGPD, HIPAA e ANVISA.</p>
              </div>
              <button class="btn btn--ghost" type="button" data-open-modal="compliance">Detalhes</button>
            </header>
            <div class="card-grid">
              <div class="card" data-compliance-card="lgpd">
                <header class="card__header">
                  <div>
                    <p class="card__title">LGPD</p>
                    <p class="card__subtitle">Prote√ß√£o de dados pessoais sens√≠veis</p>
                  </div>
                  <span class="badge badge--accent">‚Äî</span>
                </header>
              </div>
              <div class="card" data-compliance-card="hipaa">
                <header class="card__header">
                  <div>
                    <p class="card__title">HIPAA</p>
                    <p class="card__subtitle">Regulamenta√ß√£o norte-americana</p>
                  </div>
                  <span class="badge badge--warning">‚Äî</span>
                </header>
              </div>
              <div class="card" data-compliance-card="anvisa">
                <header class="card__header">
                  <div>
                    <p class="card__title">ANVISA</p>
                    <p class="card__subtitle">RDCs 508/2021 e 660/2022</p>
                  </div>
                  <span class="badge badge--accent">‚Äî</span>
                </header>
              </div>
            </div>
            <div class="alert">
              <div>
                <p class="alert__title">Checklist de seguran√ßa</p>
                <ul id="securityChecklist"></ul>
              </div>
            </div>
          </article>

          <article class="card" aria-labelledby="auditHeading">
            <header class="card__header">
              <div>
                <h2 class="section-title" id="auditHeading">Trilha de auditoria</h2>
                <p class="section-subtitle">Registro imut√°vel de opera√ß√µes cr√≠ticas.</p>
              </div>
            </header>
            <div class="log" id="auditLog"></div>
          </article>
        </section>

        <footer class="footer">
          Orion TCTH ¬∑ Sistema demonstrativo para centros de transplante ¬∑ Contato: suporte@tcth.digital
        </footer>
      </main>
    </div>

    <!-- Modal Paciente -->
    <section class="modal" id="patientModal" role="dialog" aria-modal="true" aria-labelledby="patientModalTitle">
      <div class="modal__dialog">
        <header class="modal__header">
          <h2 id="patientModalTitle">Novo paciente</h2>
          <button class="modal__close" type="button" data-modal-close="patient" aria-label="Fechar">√ó</button>
        </header>
        <form class="form" id="patientForm">
          <div class="form__grid">
            <div class="form__field">
              <label for="patientId">Identificador institucional</label>
              <input id="patientId" name="id" required placeholder="PXXX" />
              <span class="form__hint">Utilize o identificador do prontu√°rio mestre.</span>
            </div>
            <div class="form__field">
              <label for="patientName">Nome completo</label>
              <input id="patientName" name="name" required autocomplete="name" />
            </div>
            <div class="form__field">
              <label for="patientGender">Sexo</label>
              <select id="patientGender" name="gender" required>
                <option value="">Selecione</option>
                <option value="Feminino">Feminino</option>
                <option value="Masculino">Masculino</option>
                <option value="Outro">Outro</option>
              </select>
            </div>
            <div class="form__field">
              <label for="patientBirth">Data de nascimento</label>
              <input id="patientBirth" type="date" name="birthDate" required />
            </div>
            <div class="form__field">
              <label for="patientDiagnosis">Diagn√≥stico principal</label>
              <input id="patientDiagnosis" name="diagnosis" required />
            </div>
            <div class="form__field">
              <label for="patientRisk">Classifica√ß√£o de risco</label>
              <select id="patientRisk" name="riskClass" required>
                <option value="Alta">Alta</option>
                <option value="Intermedi√°ria">Intermedi√°ria</option>
                <option value="Baixa">Baixa</option>
              </select>
            </div>
            <div class="form__field">
              <label for="patientCenter">Centro assistencial</label>
              <input id="patientCenter" name="center" required />
            </div>
            <div class="form__field">
              <label for="patientAdmission">Data de admiss√£o</label>
              <input id="patientAdmission" type="date" name="admissionDate" required />
            </div>
            <div class="form__field">
              <label for="patientStatus">Status cl√≠nico</label>
              <select id="patientStatus" name="status" required>
                <option value="Pr√©-TCTH">Pr√©-TCTH</option>
                <option value="Condicionamento">Condicionamento</option>
                <option value="P√≥s-engraftment">P√≥s-engraftment</option>
                <option value="Em remiss√£o">Em remiss√£o</option>
                <option value="Em acompanhamento">Em acompanhamento</option>
              </select>
            </div>
          </div>
          <div class="form__field">
            <label for="patientNotes">Observa√ß√µes cl√≠nicas</label>
            <textarea id="patientNotes" name="notes" rows="3" placeholder="Resumo do caso, comorbidades, sorologias..."></textarea>
          </div>
          <div class="alert">
            <div>
              <p class="alert__title">Boas pr√°ticas</p>
              <p>Campos m√≠nimos obrigat√≥rios para atendimento aos requisitos FACT-JACIE e LGPD.</p>
            </div>
          </div>
          <div class="header__actions">
            <button class="btn btn--ghost" type="button" data-modal-close="patient">Cancelar</button>
            <button class="btn btn--primary" type="submit">Salvar paciente</button>
          </div>
        </form>
      </div>
    </section>

    <!-- Modal Transplante -->
    <section class="modal" id="transplantModal" role="dialog" aria-modal="true" aria-labelledby="transplantModalTitle">
      <div class="modal__dialog">
        <header class="modal__header">
          <h2 id="transplantModalTitle">Registrar Transplante</h2>
          <button class="modal__close" type="button" data-modal-close="transplant" aria-label="Fechar">√ó</button>
        </header>
        <form class="form" id="transplantForm">
          <div class="form__grid">
            <div class="form__field">
              <label for="transplantId">Identificador do procedimento</label>
              <input id="transplantId" name="id" required placeholder="TCTH-AAAA-###" />
            </div>
            <div class="form__field">
              <label for="transplantPatient">Paciente</label>
              <select id="transplantPatient" name="patientId" data-patient-select required>
                <option value="">Selecione</option>
              </select>
            </div>
            <div class="form__field">
              <label for="transplantDonor">Tipo de doador</label>
              <select id="transplantDonor" name="donorType" required>
                <option value="Aut√≥logo">Aut√≥logo</option>
                <option value="Alog√™nico aparentado">Alog√™nico aparentado</option>
                <option value="Alog√™nico n√£o aparentado">Alog√™nico n√£o aparentado</option>
                <option value="Haploid√™ntico">Haploid√™ntico</option>
              </select>
            </div>
            <div class="form__field">
              <label for="transplantSource">Fonte do enxerto</label>
              <select id="transplantSource" name="graftSource" required>
                <option value="Medula √ìssea">Medula √ìssea</option>
                <option value="C√©lulas perif√©ricas">C√©lulas perif√©ricas</option>
                <option value="Sangue de cord√£o">Sangue de cord√£o</option>
              </select>
            </div>
            <div class="form__field">
              <label for="transplantConditioning">Condicionamento</label>
              <input id="transplantConditioning" name="conditioning" required placeholder="BEAM, BuCy, FluBu..." />
            </div>
            <div class="form__field">
              <label for="transplantInfusion">Data de infus√£o</label>
              <input id="transplantInfusion" type="date" name="infusionDate" required />
            </div>
            <div class="form__field">
              <label for="transplantEngraftment">Data de engraftment</label>
              <input id="transplantEngraftment" type="date" name="engraftmentDate" />
              <span class="form__hint">Informe quando neutr√≥filos &gt; 500 por 3 dias.</span>
            </div>
            <div class="form__field">
              <label for="transplantCMV">Status CMV</label>
              <select id="transplantCMV" name="cmvStatus">
                <option value="Negativo">Negativo</option>
                <option value="Positivo">Positivo</option>
                <option value="Indeterminado">Indeterminado</option>
              </select>
            </div>
            <div class="form__field">
              <label for="transplantABO">Compatibilidade ABO</label>
              <select id="transplantABO" name="aboi">
                <option value="Compat√≠vel">Compat√≠vel</option>
                <option value="Incompatibilidade menor">Incompatibilidade menor</option>
                <option value="Incompatibilidade maior">Incompatibilidade maior</option>
              </select>
            </div>
            <div class="form__field">
              <label for="transplantStatus">Status</label>
              <select id="transplantStatus" name="status" required>
                <option value="Condicionamento">Condicionamento</option>
                <option value="Infus√£o">Infus√£o</option>
                <option value="P√≥s-engraftment">P√≥s-engraftment</option>
                <option value="Alta hospitalar">Alta hospitalar</option>
              </select>
            </div>
          </div>
          <div class="alert">
            <div>
              <p class="alert__title">Rastreabilidade</p>
              <p>Garanta o v√≠nculo com o ID do doador e lote de hemocomponente conforme RDC 660/2022.</p>
            </div>
          </div>
          <div class="header__actions">
            <button class="btn btn--ghost" type="button" data-modal-close="transplant">Cancelar</button>
            <button class="btn btn--primary" type="submit">Salvar transplante</button>
          </div>
        </form>
      </div>
    </section>

    <!-- Modal Seguimento -->
    <section class="modal" id="followupModal" role="dialog" aria-modal="true" aria-labelledby="followupModalTitle">
      <div class="modal__dialog">
        <header class="modal__header">
          <h2 id="followupModalTitle">Agendar seguimento</h2>
          <button class="modal__close" type="button" data-modal-close="followup" aria-label="Fechar">√ó</button>
        </header>
        <form class="form" id="followupForm">
          <div class="form__grid">
            <div class="form__field">
              <label for="followupPatient">Paciente</label>
              <select id="followupPatient" name="patientId" data-patient-select required>
                <option value="">Selecione</option>
              </select>
            </div>
            <div class="form__field">
              <label for="followupType">Tipo de evento</label>
              <select id="followupType" name="type" required>
                <option value="Consulta">Consulta</option>
                <option value="Exame">Exame</option>
                <option value="Hospital Day">Hospital Day</option>
                <option value="Telemedicina">Telemedicina</option>
              </select>
            </div>
            <div class="form__field">
              <label for="followupDate">Data</label>
              <input id="followupDate" type="date" name="date" required />
            </div>
            <div class="form__field">
              <label for="followupProfessional">Respons√°vel</label>
              <input id="followupProfessional" name="professional" required placeholder="Nome do profissional" />
            </div>
            <div class="form__field">
              <label for="followupStatus">Status</label>
              <select id="followupStatus" name="status" required>
                <option value="Programado">Programado</option>
                <option value="Conclu√≠do">Conclu√≠do</option>
                <option value="Cancelado">Cancelado</option>
              </select>
            </div>
          </div>
          <div class="form__field">
            <label for="followupSummary">Resumo</label>
            <textarea id="followupSummary" name="summary" rows="3" placeholder="Pontos de aten√ß√£o, exames necess√°rios, orienta√ß√µes..."></textarea>
          </div>
          <div class="header__actions">
            <button class="btn btn--ghost" type="button" data-modal-close="followup">Cancelar</button>
            <button class="btn btn--primary" type="submit">Salvar evento</button>
          </div>
        </form>
      </div>
    </section>

    <!-- Modal Compliance -->
    <section class="modal" id="complianceModal" role="dialog" aria-modal="true" aria-labelledby="complianceModalTitle">
      <div class="modal__dialog">
        <header class="modal__header">
          <h2 id="complianceModalTitle">Matriz de compliance</h2>
          <button class="modal__close" type="button" data-modal-close="compliance" aria-label="Fechar">√ó</button>
        </header>
        <div class="form">
          <div class="alert">
            <div>
              <p class="alert__title">Governan√ßa de dados</p>
              <p>Monitoramento cont√≠nuo de acesso, consentimento e reten√ß√£o conforme legisla√ß√µes vigentes.</p>
            </div>
          </div>
          <div class="form__grid">
            <div class="form__field">
              <label>LGPD</label>
              <p class="form__hint">Base legal: consentimento expl√≠cito e leg√≠timo interesse para assist√™ncia.</p>
            </div>
            <div class="form__field">
              <label>HIPAA</label>
              <p class="form__hint">Technical safeguards alinhados com NIST SP 800-66.</p>
            </div>
            <div class="form__field">
              <label>ANVISA</label>
              <p class="form__hint">Protocolos de rastreabilidade e quarentena de hemocomponentes.</p>
            </div>
          </div>
          <div class="divider"></div>
          <div>
            <h3 class="section-title">Riscos e pend√™ncias</h3>
            <ul id="riskNotes"></ul>
          </div>
          <div>
            <h3 class="section-title">Refer√™ncias regulat√≥rias</h3>
            <ul id="regulatoryLinks"></ul>
          </div>
          <div class="header__actions">
            <button class="btn btn--ghost" type="button" data-modal-close="compliance">Fechar</button>
            <button class="btn btn--primary" type="button" id="resetDemoData">Restaurar base demo</button>
          </div>
        </div>
      </div>
    </section>

  </body>
</html>
